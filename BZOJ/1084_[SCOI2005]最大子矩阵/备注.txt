题意略有表述不清, 可以选少于 k 个矩阵.
注意到 m 至多为 2, 轮廓线动态规划.
f[i][j][k] 表示考虑完前 i 行后, 需要 j, 当前行的状态为 k 时的最大值.
0: xx, 1: xo, 2: ox, 3: oo, 4: oo
(x 表示不选, o 表示选, 4 表示当前行是同一个矩阵)
手动构造转移代价, 然后 dp 即可. 复杂度 O(25*N^2)